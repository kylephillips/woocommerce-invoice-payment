(WooInvoicePayment=WooInvoicePayment||{}).Checkout=function(){var n=this,t=jQuery;return n.selectors={paymentMethodRadio:'input[name="payment_method"]',billingFields:".woocommerce-billing-fields"},n.bindEvents=function(){t(document).ready(function(){n.toggleBillingTerms(),setTimeout(function(){n.updateSessionPaymentMethod()},50)}),t(document).on("payment_method_selected",function(){n.toggleBillingTerms(),setTimeout(function(){n.updateSessionPaymentMethod()},50)}),t(document).on("change",n.selectors.paymentMethodRadio,function(){n.toggleBillingTerms(),setTimeout(function(){n.updateSessionPaymentMethod()},50)})},n.toggleBillingTerms=function(){var e,o=t(n.selectors.paymentMethodRadio+":checked").val();void 0!==o&&""!==o&&(e=t(".woocommerce-billing-fields"),"invoice"!==o?t(e).show():t(e).hide())},n.updateSessionPaymentMethod=function(){var e=t(n.selectors.paymentMethodRadio+":checked").val();void 0!==e&&""!==e&&t.ajax({url:woocommerce_invoice_payment.ajaxurl,type:"post",datatype:"json",data:{action:"update_session_payment_method",nonce:woocommerce_invoice_payment.nonce,payment_method:e},success:function(e){t(n.selectors.paymentMethodRadio+":checked").val(),"invoice"!==e.data.new_payment_method&&e.data.billing_fields;n.populateBillingFields(e.data.billing_fields),n.toggleBillingFields(e.data.hide_billing),setTimeout(function(){t(document.body).trigger("country_to_state_changed")},50)},error:function(e){console.log(e)}})},n.populateBillingFields=function(e){t(".woocommerce-billing-fields__field-wrapper").html(e)},n.toggleBillingFields=function(e){e?t(n.selectors.billingFields).hide():t(n.selectors.billingFields).show()},n.bindEvents()};var WooInvoicePayment=WooInvoicePayment||{};jQuery(document).ready(function(){new WooInvoicePayment.Factory}),WooInvoicePayment.Factory=function(){jQuery;return this.build=function(){new WooInvoicePayment.Checkout},this.build()};