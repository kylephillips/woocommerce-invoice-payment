(WooInvoicePaymentAdmin=WooInvoicePaymentAdmin||{}).ShippingOptionsField=function(){var o=this,i=jQuery;return o.selectors={wrapper:".woocommerce-invoice-payment-repeater-wrapper",table:".woocommerce-invoice-payment-repeater",row:".woocommerce-invoice-payment-repeater-row",addNewButton:"[data-woocommerce-invoice-payment-repeater-add-new]",removeButton:".woocommerce-invoice-payment-repeater-remove-row a"},o.bindEvents=function(){i(document).ready(function(){o.enableSortable()}),i(document).on("click",o.selectors.addNewButton,function(e){e.preventDefault(),o.addNewLocation()}),i(document).on("click",o.selectors.removeButton,function(e){e.preventDefault(),o.removeLocation(i(this))})},o.addNewLocation=function(){var e=woocommerce_invoice_payment.shipping_options_fields;i(o.selectors.table).append(e),setTimeout(function(){o.reindexInputs()},50)},o.removeLocation=function(e){i(e).parents(o.selectors.row).remove();setTimeout(function(){o.reindexInputs()},50)},o.reindexInputs=function(){var e=i(o.selectors.row),t=/woocommerce_invoice_shipping_options\[\d\]/;i.each(e,function(e){var n=e,e=i(this).find("input"),o=i(this).find("select");i.each(e,function(){var e=i(this).attr("name");i(this).attr("name",e.replace(t,"woocommerce_invoice_shipping_options["+n+"]"))}),i.each(o,function(){var e=i(this).attr("name");i(this).attr("name",e.replace(t,"woocommerce_invoice_shipping_options["+n+"]"))})}),i(".woocommerce-invoice-payment-repeater").sortable("refresh")},o.enableSortable=function(){i(".woocommerce-invoice-payment-repeater").sortable({handle:".order",start:function(e,n){n.placeholder.height(n.item.height())},stop:function(e,n){setTimeout(function(){o.reindexInputs()},100)}})},o.bindEvents()};(WooInvoicePaymentAdmin=WooInvoicePaymentAdmin||{}).Settings=function(){var e=this,n=jQuery;return e.bindEvents=function(){n(document).ready(function(){e.toggleTaxDependentFields(),e.toggleShippingDependentFields()}),n(document).on("change",'input[name="woocommerce_invoice_disable_taxes"]',function(){e.toggleTaxDependentFields()}),n(document).on("change",'input[name="woocommerce_invoice_disable_shipping"]',function(){e.toggleShippingDependentFields()})},e.toggleTaxDependentFields=function(){n('input[name="woocommerce_invoice_disable_taxes"]').is(":checked")?n(".tax-disabled-totals-message").parents("tr").show():n(".tax-disabled-totals-message").parents("tr").hide()},e.toggleShippingDependentFields=function(){n('input[name="woocommerce_invoice_disable_shipping"]').is(":checked")?n(".shipping-disabled-message").parents("tr").show():n(".shipping-disabled-message").parents("tr").hide()},e.bindEvents()};var WooInvoicePaymentAdmin=WooInvoicePaymentAdmin||{};jQuery(document).ready(function(){new WooInvoicePaymentAdmin.Factory}),WooInvoicePaymentAdmin.Factory=function(){var e=this,n=jQuery;return e.build=function(){new WooInvoicePaymentAdmin.Settings,new WooInvoicePaymentAdmin.ShippingOptionsField,e.initializeSelectWoo()},e.initializeSelectWoo=function(){n(".invoice-payment-select-woo").length<1||n(".invoice-payment-select-woo").select2({multiple:!0})},e.build()};